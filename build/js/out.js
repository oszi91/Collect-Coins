!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(3);var r=i(1),n=i.n(r),o=i(2),a=i.n(o),c=i(0),s=i.n(c),u=function e(){n()(this,e)};s()(u,"game",document.querySelector(".game")),s()(u,"score",document.querySelector(".score__number")),s()(u,"speed",document.querySelector(".speed__number")),s()(u,"coins",document.querySelector(".coins__number")),s()(u,"keyUp",document.querySelector(".keyboard__up")),s()(u,"keyDown",document.querySelector(".keyboard__down")),s()(u,"keyLeft",document.querySelector(".keyboard__left")),s()(u,"keyRight",document.querySelector(".keyboard__right")),s()(u,"gameOverBoard",document.querySelector(".game-over")),s()(u,"gameOverBtn",document.querySelector(".game-over__restart")),s()(u,"backgroundMusic",document.querySelector(".background-music")),s()(u,"gameOverText",document.querySelector(".game-over__text")),s()(u,"winText",document.querySelector(".win-game")),s()(u,"startGame",document.querySelector(".start-game")),s()(u,"playBtn",document.querySelector(".start-game__btn")),s()(u,"musicIcon",document.querySelector(".start-game__music")),s()(u,"levelBtns",document.querySelectorAll(".level")),s()(u,"icon",u.musicIcon.querySelector(".fas"));var l=u,d=function(){function e(){n()(this,e),s()(this,"charDirection",{x:0,y:0}),s()(this,"charLastDirection",{x:0,y:0})}return a()(e,[{key:"controls",value:function(){var e=this,t=["keydown","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","e.key"],i=["click",l.keyUp,l.keyDown,l.keyLeft,l.keyRight,"e.target"],r=function(t,i,r,n,o,a){window.addEventListener(t,(function(t){var c;switch("e.key"===a?c=t.key:"e.target"===a&&(c=t.target),c){case i:if(0!==e.charLastDirection.y)break;e.charDirection={x:0,y:-1};break;case r:if(0!==e.charLastDirection.y)break;e.charDirection={x:0,y:1};break;case n:if(0!==e.charLastDirection.x)break;e.charDirection={x:-1,y:0};break;case o:if(0!==e.charLastDirection.x)break;e.charDirection={x:1,y:0}}}))};r(i[0],i[1],i[2],i[3],i[4],i[5]),r(t[0],t[1],t[2],t[3],t[4],t[5])}},{key:"controlDirectionUpdate",value:function(){return this.charLastDirection=this.charDirection,this.charLastDirection}}]),e}(),h=function e(){n()(this,e)};s()(h,"GRID_SIZE",7),s()(h,"SCORE_TO_WIN",100),s()(h,"ADD_COINS_BONUS",[1,2,3,4,5]),s()(h,"GAME_SPEED",5),s()(h,"GAME_SPEED_UPGRADE",.1);var m=h,f=function(){function e(){n()(this,e),s()(this,"charPosition",{x:this.gridCenterPosition(),y:this.gridCenterPosition()})}return a()(e,[{key:"gridCenterPosition",value:function(){return Math.ceil(m.GRID_SIZE/2)}},{key:"drawCharacter",value:function(){l.game.innerHTML="";var e=document.createElement("div");e.style.gridColumnStart=this.charPosition.x,e.style.gridRowStart=this.charPosition.y,e.classList.add("character"),l.game.appendChild(e)}}]),e}(),y=function(){function e(){n()(this,e)}return a()(e,[{key:"randomCoinPosition",value:function(e){return{x:Math.floor(Math.random()*e)+1,y:Math.floor(Math.random()*e)+1}}},{key:"drawCoin",value:function(e){var t=document.createElement("div");t.style.gridColumnStart=e.x,t.style.gridRowStart=e.y,t.classList.add("coin"),l.game.appendChild(t)}}]),e}(),p=function(){function e(){n()(this,e)}return a()(e,null,[{key:"setGameboardSize",value:function(){l.game.style.gridTemplateRows="repeat(".concat(m.GRID_SIZE+1,", 1fr)"),l.game.style.gridTemplateColumns="repeat(".concat(m.GRID_SIZE+1,", 1fr)")}}]),e}();(function(e){function t(t,i,r,n){m.GRID_SIZE=t,m.GAME_SPEED=i,m.GAME_SPEED_UPGRADE=r,m.ADD_COINS_BONUS=n,e.coinPosition=e.randomCoinPositionGrid(m.GRID_SIZE),e.gameSpeedDiffToHtml=i}l.levelBtns.forEach((function(i){i.addEventListener("click",(function(i){switch(i.target.dataset.level){case"easy":t(8,3,.05,[1,2,4,6,8]);break;case"medium":e.coinPosition=e.randomCoinPositionGrid(m.GRID_SIZE);break;case"hard":t(6,6,.15,[1,1,2,3,5]);break;case"extreme":t(5,7,.2,[1,1,2,2,5])}}))})),l.musicIcon.addEventListener("click",(function(){e.musicOn?(e.musicOn=!1,l.icon.className="fas fa-volume-mute"):(e.musicOn=!0,l.icon.className="fas fa-volume-up")})),l.playBtn.addEventListener("click",(function(){l.startGame.classList.add("start-game-hide"),e.coinPosition=e.randomCoinPositionGrid(m.GRID_SIZE),e.init()}))})(new(function(){function e(){n()(this,e),s()(this,"characterControl",new d),s()(this,"character",new f),s()(this,"coin",new y),s()(this,"gameStatus",!1),s()(this,"stopGame",!1),s()(this,"musicOn",!0),s()(this,"scoreCounter",0),s()(this,"gameSpeedDiffToHtml",m.GAME_SPEED),s()(this,"coinPosition",void 0),s()(this,"beforeTime",performance.now()),s()(this,"gameMusic",void 0)}return a()(e,[{key:"sound",value:function(e,t){(e=new Audio).src=t,e.play()}},{key:"randomCoinPositionGrid",value:function(){for(var e;!e||this.isOnTheSamePosition(e);)e=this.coin.randomCoinPosition(m.GRID_SIZE);return e}},{key:"gameSpeedUpdate",value:function(){return m.GAME_SPEED+=m.GAME_SPEED_UPGRADE}},{key:"play",value:function(e){var t=this;if(!this.stopGame){var i=(e-this.beforeTime)/1e3;requestAnimationFrame((function(e){return t.play(e)})),i<1/m.GAME_SPEED||(this.beforeTime=e,this.update())}}},{key:"update",value:function(){if(this.gameStatus=this.gameOver(),this.scoreCounter>=m.SCORE_TO_WIN)this.stopGame=!0,l.gameOverText.innerHTML="",l.winText.innerHTML="Wow, ".concat(this.scoreCounter," coins! <br/> You Won!"),l.gameOverBoard.classList.add("game-over--visible"),l.gameOverBtn.addEventListener("click",(function(){return location.reload()}));else{if(this.gameStatus)return this.stopGame=!0,this.musicOn&&(l.backgroundMusic.pause(),this.sound(this.gameMusic,"./sounds/game-over.wav")),l.gameOverBoard.classList.add("game-over--visible"),void l.gameOverBtn.addEventListener("click",(function(){return location.reload()}));this.updateCharacter(),this.updateCoin(),this.character.drawCharacter(),this.coin.drawCoin(this.coinPosition)}}},{key:"isOnTheSamePosition",value:function(e){return e.x===this.character.charPosition.x&&e.y===this.character.charPosition.y}},{key:"updateCharacter",value:function(){this.characterControl.controlDirectionUpdate(),this.character.charPosition.x+=this.characterControl.charDirection.x,this.character.charPosition.y+=this.characterControl.charDirection.y}},{key:"updateCoin",value:function(){var e;if(this.isOnTheSamePosition(this.coinPosition)){this.musicOn&&this.sound(this.gameMusic,"./sounds/coin-collect.wav"),this.gameSpeedUpdate(),this.coinPosition=this.randomCoinPositionGrid();var t=m.GAME_SPEED.toFixed(1),i=(t-this.gameSpeedDiffToHtml+1).toFixed(1);t>this.gameSpeedDiffToHtml+1&&t<=this.gameSpeedDiffToHtml+2?(e=m.ADD_COINS_BONUS[1],this.scoreCounter+=e):t>this.gameSpeedDiffToHtml+2&&t<=this.gameSpeedDiffToHtml+3?(e=m.ADD_COINS_BONUS[2],this.scoreCounter+=e):t>this.gameSpeedDiffToHtml+3&&t<=this.gameSpeedDiffToHtml+4?(e=m.ADD_COINS_BONUS[3],this.scoreCounter+=e):t>this.gameSpeedDiffToHtml+4?(e=m.ADD_COINS_BONUS[4],this.scoreCounter+=e):(e=m.ADD_COINS_BONUS[0],this.scoreCounter++),l.speed.textContent="x".concat(i),l.coins.textContent="x".concat(e)}l.score.textContent=this.scoreCounter}},{key:"gameOver",value:function(){return this.character.charPosition.x<1||this.character.charPosition.y<1||this.character.charPosition.x>m.GRID_SIZE||this.character.charPosition.y>m.GRID_SIZE}},{key:"init",value:function(){this.musicOn&&l.backgroundMusic.play(),p.setGameboardSize(),this.play(),this.characterControl.controls()}}]),e}()))}]);