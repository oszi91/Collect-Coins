!function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var r=i(1),o=i.n(r),n=i(2),a=i.n(n),c=i(0),s=i.n(c),u=(i(3),function(){function e(){o()(this,e),s()(this,"charDirection",{x:0,y:0}),s()(this,"charLastDirection",{x:0,y:0}),s()(this,"keyUp",document.querySelector(".keyboard__up")),s()(this,"keyDown",document.querySelector(".keyboard__down")),s()(this,"keyLeft",document.querySelector(".keyboard__left")),s()(this,"keyRight",document.querySelector(".keyboard__right"))}return a()(e,[{key:"controls",value:function(){var e=this,t=["keydown","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","e.key"],i=["click",this.keyUp,this.keyDown,this.keyLeft,this.keyRight,"e.target"],r=function(t,i,r,o,n,a){window.addEventListener(t,(function(t){var c;switch("e.key"===a?c=t.key:"e.target"===a&&(c=t.target),c){case i:if(0!==e.charLastDirection.y)break;e.charDirection={x:0,y:-1};break;case r:if(0!==e.charLastDirection.y)break;e.charDirection={x:0,y:1};break;case o:if(0!==e.charLastDirection.x)break;e.charDirection={x:-1,y:0};break;case n:if(0!==e.charLastDirection.x)break;e.charDirection={x:1,y:0}}}))};r(i[0],i[1],i[2],i[3],i[4],i[5]),r(t[0],t[1],t[2],t[3],t[4],t[5])}},{key:"controlDirectionUpdate",value:function(){return this.charLastDirection=this.charDirection,this.charLastDirection}}]),e}()),h=function e(){o()(this,e)};s()(h,"GRID_SIZE",7),s()(h,"SCORE_TO_WIN",100),s()(h,"ADD_COINS_BONUS",[1,2,3,4,5]),s()(h,"GAME_SPEED",5),s()(h,"GAME_SPEED_UPGRADE",.1);var l=h,d=function e(){o()(this,e)};s()(d,"game",document.querySelector(".game")),s()(d,"score",document.querySelector(".score__number")),s()(d,"speed",document.querySelector(".speed__number")),s()(d,"coins",document.querySelector(".coins__number")),s()(d,"gameOverBoard",document.querySelector(".game-over")),s()(d,"gameOverBtn",document.querySelector(".game-over__restart")),s()(d,"backgroundMusic",document.querySelector(".background-music")),s()(d,"gameOverText",document.querySelector(".game-over__text")),s()(d,"winText",document.querySelector(".win-game"));var m=d,f=function(){function e(){o()(this,e),s()(this,"charPosition",{x:this.gridCenterPosition(),y:this.gridCenterPosition()})}return a()(e,[{key:"gridCenterPosition",value:function(){return Math.ceil(l.GRID_SIZE/2)}},{key:"drawCharacter",value:function(){m.game.innerHTML="";var e=document.createElement("div");e.style.gridColumnStart=this.charPosition.x,e.style.gridRowStart=this.charPosition.y,e.classList.add("character"),m.game.appendChild(e)}}]),e}(),y=function(){function e(){o()(this,e)}return a()(e,[{key:"randomCoinPosition",value:function(){return{x:Math.floor(Math.random()*l.GRID_SIZE)+1,y:Math.floor(Math.random()*l.GRID_SIZE)+1}}},{key:"drawCoin",value:function(e){var t=document.createElement("div");t.style.gridColumnStart=e.x,t.style.gridRowStart=e.y,t.classList.add("coin"),m.game.appendChild(t)}}]),e}(),S=function(){function e(){o()(this,e)}return a()(e,null,[{key:"setGameboardSize",value:function(){m.game.style.gridTemplateRows="repeat(".concat(l.GRID_SIZE+1,", 1fr)"),m.game.style.gridTemplateColumns="repeat(".concat(l.GRID_SIZE+1,", 1fr)")}}]),e}(),_=new(function(){function e(){o()(this,e),s()(this,"characterControl",new u),s()(this,"character",new f),s()(this,"coin",new y),s()(this,"gameStatus",!1),s()(this,"stopGame",!1),s()(this,"musicOn",!1),s()(this,"scoreCounter",0),s()(this,"gameSpeedDiffToHtml",l.GAME_SPEED),s()(this,"coinPosition",this.randomCoinPositionGrid()),s()(this,"beforeTime",performance.now()),s()(this,"gameMusic",void 0)}return a()(e,[{key:"sound",value:function(e,t){(e=new Audio).src=t,e.play()}},{key:"randomCoinPositionGrid",value:function(){for(var e;!e||this.isOnTheSamePosition(e);)e=this.coin.randomCoinPosition();return e}},{key:"gameSpeedUpdate",value:function(){return l.GAME_SPEED+=l.GAME_SPEED_UPGRADE}},{key:"play",value:function(e){var t=this;if(!this.stopGame){var i=(e-this.beforeTime)/1e3;requestAnimationFrame((function(e){return t.play(e)})),i<1/l.GAME_SPEED||(this.beforeTime=e,this.update())}}},{key:"update",value:function(){if(this.gameStatus=this.gameOver(),this.scoreCounter>=l.SCORE_TO_WIN)this.stopGame=!0,m.gameOverText.innerHTML="",m.winText.innerHTML="Wow, ".concat(this.scoreCounter," coins! <br/> You Won!"),m.gameOverBoard.classList.add("game-over--visible"),m.gameOverBtn.addEventListener("click",(function(){return location.reload()}));else{if(this.gameStatus)return this.stopGame=!0,this.musicOn&&(m.backgroundMusic.pause(),this.sound(this.gameMusic,"./../sounds/game-over.wav")),m.gameOverBoard.classList.add("game-over--visible"),void m.gameOverBtn.addEventListener("click",(function(){return location.reload()}));this.updateCharacter(),this.updateCoin(),this.character.drawCharacter(),this.coin.drawCoin(this.coinPosition)}}},{key:"isOnTheSamePosition",value:function(e){return e.x===this.character.charPosition.x&&e.y===this.character.charPosition.y}},{key:"updateCharacter",value:function(){this.characterControl.controlDirectionUpdate(),this.character.charPosition.x+=this.characterControl.charDirection.x,this.character.charPosition.y+=this.characterControl.charDirection.y}},{key:"updateCoin",value:function(){var e;if(this.isOnTheSamePosition(this.coinPosition)){this.musicOn&&this.sound(this.gameMusic,"./../sounds/coin-collect.wav"),this.gameSpeedUpdate(),this.coinPosition=this.randomCoinPositionGrid();var t=l.GAME_SPEED.toFixed(1),i=(t-this.gameSpeedDiffToHtml+1).toFixed(1);console.log(this.gameSpeedDiffToHtml),t>this.gameSpeedDiffToHtml+1&&t<=this.gameSpeedDiffToHtml+2?(e=l.ADD_COINS_BONUS[1],this.scoreCounter+=e):t>this.gameSpeedDiffToHtml+2&&t<=this.gameSpeedDiffToHtml+3?(e=l.ADD_COINS_BONUS[2],this.scoreCounter+=e):t>this.gameSpeedDiffToHtml+3&&t<=this.gameSpeedDiffToHtml+4?(e=l.ADD_COINS_BONUS[3],this.scoreCounter+=e):t>this.gameSpeedDiffToHtml+4?(e=l.ADD_COINS_BONUS[4],this.scoreCounter+=e):(e=l.ADD_COINS_BONUS[0],this.scoreCounter++),console.log(t),m.speed.textContent="x".concat(i),m.coins.textContent="x".concat(e)}m.score.textContent=this.scoreCounter}},{key:"gameOver",value:function(){return this.character.charPosition.x<1||this.character.charPosition.y<1||this.character.charPosition.x>l.GRID_SIZE||this.character.charPosition.y>l.GRID_SIZE}},{key:"init",value:function(){this.musicOn&&m.backgroundMusic.play(),S.setGameboardSize(),this.play(),this.characterControl.controls()}}]),e}()),p=document.querySelector(".start-game"),D=document.querySelector(".start-game__btn"),g=document.querySelector(".start-game__music");document.querySelectorAll(".level").forEach((function(e){e.addEventListener("click",(function(e){switch(e.target.dataset.level){case"easy":l.GRID_SIZE=8,l.GAME_SPEED=3,l.GAME_SPEED_UPGRADE=.05,l.ADD_COINS_BONUS=[1,2,4,6,8],_.gameSpeedDiffToHtml=l.GAME_SPEED,_.init();break;case"medium":_.init();break;case"hard":l.GRID_SIZE=6,l.GAME_SPEED=6,l.GAME_SPEED_UPGRADE=.15,l.ADD_COINS_BONUS=[1,1,2,3,5],_.gameSpeedDiffToHtml=l.GAME_SPEED,_.init();break;case"extreme":l.GRID_SIZE=5,l.GAME_SPEED=7,l.GAME_SPEED_UPGRADE=.2,l.ADD_COINS_BONUS=[1,1,1,2,5],_.gameSpeedDiffToHtml=l.GAME_SPEED,_.init()}}))})),g.addEventListener("click",(function(){var e=g.querySelector(".fas");_.musicOn?(_.musicOn=!1,e.className="fas fa-volume-mute"):(_.musicOn=!0,e.className="fas fa-volume-up")})),D.addEventListener("click",(function(){p.classList.add("start-game-hide"),_.init()}))}]);